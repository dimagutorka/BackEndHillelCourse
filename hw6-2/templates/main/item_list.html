{% extends 'base.html' %}

{% block content %}
    <form method="POST" enctype="multipart/form-data">
        <input type="text" name="name" placeholder="Item Name" required>
        <input type="text" name="description" placeholder="Item Description" required>
        <input type="file" name="photo" placeholder="Item Photo">
        <input type="number" name="price_per_hour" placeholder="Item per hour" required>
        <input type="number" name="price_per_day" placeholder="Item per day" required>
        <input type="number" name="price_per_week" placeholder="Item per week" required>
        <button type="submit">Create item</button>
    </form>


    {% for owner_item in  owner_items %}
        <ul>
            <li><a href="{{ url_for('main.item_detail_view', item_id=owner_item.id) }}"> {{ owner_item.name }} </a></li>
            <li> {{ owner_item.description }}</li>
            <li> {{ owner_item.photo }}</li>
            <li> {{ owner_item.status.value }}</li>
            <li> {{ owner_item.price_per_hour }}</li>
            <li> {{ owner_item.price_per_day }} </li>
            <li> {{ owner_item.price_per_week }}</li>
        </ul>
        <a href="{{ url_for('main.item_detail_view', item_id=owner_item.id) }}"> Edit item </a>


    {% endfor %}

{% endblock %}

{##}
{#<button onclick="deleteItem(123)">Delete</button>#}
{##}
{#<script>#}
{#function deleteItem(itemId) {#}
{#    fetch(`/delete-item/${itemId}`, {#}
{#        method: 'DELETE'#}
{#    })#}
{#    .then(response => {#}
{#        if (response.ok) {#}
{#            alert("Item deleted successfully");#}
{#            location.reload(); // Reload the page or navigate to another page#}
{#        } else {#}
{#            alert("Failed to delete item");#}
{#        }#}
{#    })#}
{#    .catch(error => console.error('Error:', error));#}
{#}#}
{#</script>#}